pdi:
  metadata: # type of small values for which PDI keeps a copy
    dsize:  { size: 2, type: array, subtype: int } # local data size including ghosts/boundary

  data: # type of values for which PDI does not keep a copy
    main_field: { size: [ '$dsize[0]', '$dsize[1]' ], type: array, subtype: double }
  
  plugins:
    mpi:
    decl_hdf5:
      file: data.h5
      communicator: $MPI_COMM_WORLD # the MPI communicator used for HDF5 parallel synchronized write
      datasets: # type of the datasets to create in file
        data:
          type: array
          subtype: double
          size: ['$dsize[0]', '$dsize[1]']
      write:
        main_field: # the name of the data to write
          dataset: data
          memory_selection:  # exclude ghosts from the data in memory
            size:  ['$dsize[0]-1', '$dsize[1]-1']
            start: [0, 0]